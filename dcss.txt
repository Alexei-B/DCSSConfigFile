<
  function ready()
    DmgTrack()
    MobAlert()
  end
>

################
# Mob Warnings #
# (c) ScarletJ #
################

: function MobAlert()
:   local x,y
:   for x = -8,8 do
:     for y = -8,8 do
:       m = monster.get_monster_at(x, y)
:       if m and (m:attitude() == 0) then
:         desc = m:desc()
:         if string.find(desc, "wizard") and not string.find(desc, "orc wizard")
:         or string.find(desc, "giant eyeball")
:         or string.find(desc, "great orb of eyes")
:         or string.find(desc, "vampire knight")
:         or string.find(desc, "orc sorcerer")
:         or string.find(desc, "red wasp")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can paralyse you!</yellow>")
:         end
:         if string.find(desc, "yellow wasp") and not string.find(desc, "zombie")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can paralyse and slow you!</yellow>")
:         end
:         if string.find(desc, "Grinder")
:         or string.find(desc, "Rupert")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can paralyse you!</yellow>")
:         end
:			    if string.find(desc, "air mage") 
:         or string.find(desc, "titan") and not string.find(desc, "zombie") and not string.find(desc, "skeleton") and not string.find(desc, "slime")
:         or string.find(desc, "blizzard demon")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can airstrike you!</yellow>")
:         end
:         if string.find(desc, "Gastronok")
:         or string.find(desc, "Sojobo") 
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can airstrike you!</yellow>")
:         end
:         if string.find(desc, "deep elf demonologist") 
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can banish you or summon Greater Demons!</yellow>")
:         end
:         if string.find(desc, "Louise")
:         or string.find(desc, "Psyche")
:         or string.find(desc, "Sonja")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " might banish you!</yellow>")
:         end
:         if string.find(desc, "draconian caller")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can summon Dragons and Death Drakes!</yellow>")
:         end
:         if string.find(desc, "draconian annihilator")
:         or string.find(desc, "deep elf annihilator")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can cast Lehudib's Crystal Spear or Iron Shot at you!</yellow>")
:         end
:         if string.find(desc, "blood saint")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can cast Lehudib's Crystal Spear or other Legendary Destruction at you!</yellow>")
:         end
:         if string.find(desc, "black sun")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " has some abilities I don't know!</yellow>")
:         end
:         if string.find(desc, "warmonger")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can sap your magic and summon a grand avatar!</yellow>")
:         end
:         if string.find(desc, "corrupter")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can summon strong creatures, and give temporary mutations!</yellow>")
:         end
:         if string.find(desc, "draconian shifter")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can block teleports, surround with allies, or blink you!</yellow>")
:         end
:         if string.find(desc, "Roxanne")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can cast Lehudib's Crystal Spear or Iron Shot at you!</yellow>")
:         end
:         if string.find(desc, "wizard") and not string.find(desc, "orc wizard")
:         or string.find(desc, "ogre mage")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " might banish, paralyse, or LCS you!</yellow>")
:         end
:         if string.find(desc, "lich")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " might banish, paralyse, summon demons, Iron Shot, or LCS you!</yellow>")
:         end
:         if string.find(desc, "Erolcha")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " might banish, paralyse, or LCS you!</yellow>")
:         end
:         if string.find(desc, "draconian scorcher")
:         or string.find(desc, "hellion")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can send smite-targeted hellfire at you!</yellow>")
:         end
:         if string.find(desc, "Azrael")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can send smite-targeted hellfire at you!</yellow>")
:         end
:         if string.find(desc, "deep elf sorcerer")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can banish or send line-of-sight hellfire at you!</yellow>")
:         end
:         if string.find(desc, "quicksilver dragon") and not string.find(desc, "zombie")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can dispel your buffs!</yellow>")
:         end
:         if string.find(desc, "Hell Sentinel")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can send line-of-sight hellfire and Iron Shot at you!</yellow>")
:         end
:         if string.find(desc, "Asmodeus")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can send line-of-sight hellfire at you or summon Greater Demons!</yellow>")
:         end
:         if string.find(desc, "flayed ghost")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can flay you to shreds!</yellow>")
:         end
:         if string.find(desc, "Ice Fiend")
:         or string.find(desc, "Shadow Fiend")
:         or string.find(desc, "curse skull")
:         or string.find(desc, "tormentor")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can torment you!</yellow>")
:         end
:         if string.find(desc, "curse toe")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can torment you and summon fungus!</yellow>")
:         end
:         if string.find(desc, "Menkaure")
:         or string.find(desc, "Gloorx Vloq")
:         or string.find(desc, "Murray")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can torment you!</yellow>")
:         end
:         if string.find(desc, "Ereshkigal")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can paralyse or torment you!</yellow>")
:         end
:         if string.find(desc, "Brimstone Fiend")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can send line-of-sight hellfire or torment you!</yellow>")
:         end
:         if string.find(desc, "daeva")
:         or string.find(desc, "balrug")
:         or string.find(desc, "smoke demon")
:         or string.find(desc, "deep elf priest")
:         or string.find(desc, "orc priest")
:         or string.find(desc, "orc high priest")
:         or string.find(desc, "starcursed mass")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can smite you!</yellow>")
:         end
:         if string.find(desc, "Frances")
:         or string.find(desc, "Mnoleg")
:         or string.find(desc, "Saint Roka")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can smite you!</yellow>")
:         end
:         if string.find(desc, "deep elf high priest")
:         or string.find(desc, "draconian zealot")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can send smite-targeted hellfire or smite you!</yellow>")
:         end
:         if string.find(desc, "mummy priest")
:         or string.find(desc, "greater mummy")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can torment or smite you!</yellow>")
:         end
:         if string.find(desc, "Khufu")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can torment or smite you!</yellow>")
:         end
:         if string.find(desc, "sphinx") and not string.find(desc, "sphinx zombie") and not string.find(desc, "sphinx skeleton")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can paralyse or smite you!</yellow>")
:         end
:         if string.find(desc, "Norris")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can paralyse or smite you, and drain your Int!</yellow>")
:         end
:         if string.find(desc, "catobelpas")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can petrify you!</yellow>")
:         end
:         if string.find(desc, "Jorgrun")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can petrify you!</yellow>")
:         end
:         if string.find(desc, "brain worm") and not string.find(desc, "zombie")
:         or string.find(desc, "orange crystal statue")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can drain your Intelligence!</yellow>")
:         end
:         if string.find(desc, "Jory")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can cast Lehudib's Crystal Spear or drain your Int!</yellow>")
:         end
:         if string.find(desc, "neqoxec")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can mutate you or drain your Int!</yellow>")
:         end
:         if string.find(desc, "cacodemon")
:         or string.find(desc, "shining eye")
:         or string.find(desc, "orb of fire")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can mutate you!</yellow>")
:         end
:         if string.find(desc, "Cerebov")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can cast Fire Storm or Iron Shot, and summon Greater Demons!</yellow>")
:         end
:         if string.find(desc, "Mennas")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can cast silence or confuse!</yellow>")
:         end
:         if string.find(desc, "Ignacio")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can cast Agony!</yellow>")
:         end
:         if string.find(desc, "giant orange brain")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can summon Shadow Creatures or drain your INT!</yellow>")
:         end
:         if string.find(desc, "boggart")
:         or string.find(desc, "shadow demon")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can summon Shadow Creatures!</yellow>")
:         end
:         if string.find(desc, "ynoxinul")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " can cast Iron Shot at you!</yellow>")
:         end
:         if string.find(desc, "Frederick")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can cast Iron Shot at you!</yellow>")
:         end
:         if string.find(desc, "Dispater")
:           then crawl.mpr("<yellow>Careful: " .. m:desc() .. " can send line-of-sight hellfire at you, cast Iron Shot, and summon Greater Demons!</yellow>")
:         end
:         if string.find(desc, "ghost moth") and not string.find(desc, "zombie")
:         or string.find(desc, "eye of draining")
:           then crawl.mpr("<yellow>Careful: The " .. m:desc() .. " will drain your Magic!</yellow>")
:         end
:       end
:     end
:   end
: end

###############
# Damage Calc #
###############
: local dmg_old_hp = 0 
  
: function DmgTrack()
:   local bot_hp = you.hp()
:   local dmg_inturn = 0
:   if dmg_old_hp > 0 then
:     dmg_inturn = dmg_old_hp - bot_hp
:     if bot_hp < dmg_old_hp then
:           crawl.mpr("<red>You take " .. dmg_inturn .. " damage.</red>")
:     end
:   end
:   dmg_old_hp = bot_hp
: end

#############
# Autofight #
#############

# Do/don't throw stuff when autofighting
autofight_throw = true
autofight_throw_nomove = true
# If true. items are autofired stopping at the monsters feet (same as firing using .)
autofight_fire_stop = true

fire_order  = launcher, return
fire_order += large rock, javelin, tomahawk, dart, stone

# Prevent me from tab-fighting to death below 75% HP
autofight_stop = 75

# Enables automagic attacks
automagic_enable = false
automagic_slot = a
# Percentage of MP to stop automagic at
automagic_stop = 0
# If set to true, resort to melee when automagic_stop is active
automagic_fight = false

##############
# Autopickup #
##############

# Used
# $ = gold
# ? = scroll
# ! = potion
# : = book
# " = jewellery
# / = wand
# % = food
# } = miscellaneous
# | = staves
# \ = rods
autopickup += $?!:"/%}|\

# Unused
# ) = weapon
# ( = missiles
# [ = armour
# X = corpses


# Secondary Armour Auto-Pickup
{
add_autopickup_func(function(item, name)
	if item.class(true) == "armour" then	
		local good_slots = {cloak="Cloak", helmet="Helmet", gloves="Gloves", boots="Boots"}
		sub_type, _ = item.subtype()
			 
		if (good_slots[sub_type] ~= nil) and (items.equipped_at(good_slots[sub_type]) == nil) then 
			return true 
		end
		
		return false		
		end	
	end)
}

# Allows easily dropping multiple items
drop_mode += multi
# Always show the full list of items when you pick up a stack
pickup_mode += multi
# Allows followers to pick up ANYTHING (take care not to lose artifacts)
default_friendly_pickup += all

# Set Alias for Autopickup Exceptions
ae := autopickup_exceptions
ae += useless_item, dangerous_item, evil_item

# Dont pickup potion(s) of [coagulated] blood if you are not a vampire
: if you.race() ~= "Vampire" then
	ae += potions? of.*blood
: end

# Autopickup artefacts
ae += <artefact

# Ammo autopickup 
# Set any of the local variables to false to disable that category
{
	local pickup_arrows = false
  local pickup_bolts = false
  local pickup_stones = false
  local pickup_darts = false
  local pickup_needles = true
  local pickup_tomahawk = true
  local pickup_javelin = true
  local pickup_nets = true
	local first_stones = true
  local first_darts = true
  
	local function init_spells()
		local spell_list = {}
		
		for _, spell_name in ipairs(you.spells()) do
			spell_list[spell_name] = true
		end
	
		return spell_list
	end

	local known_spells = init_spells()	
	
	local function ammo_pickup(item, name)
		if pickup_arrows or known_spells["Sticks to Snakes"] then
      if name:find("arrow") then return true end
		end
    
    if pickup_bolts then
      if name:find("bolt") then return true end
		end
    
		if pickup_stones or known_spells["Sandblast"] or first_stones then
      if name:find("stone") then 
        first_stones = false
        return true 
      end
		end
    
		if pickup_darts or first_darts then
      if name:find("dart") then 
        first_darts = false
        return true 
      end
		end
		
		if pickup_needles then
			if name:find("needle") then return true end
		end
		
    if pickup_tomahawk then
			if name:find("tomahawk") then return true end
		end
    
    if pickup_javelin then
			if name:find("javelin") then return true end
		end
    
		if pickup_nets then
			if name:find("throwing net") then return true end
		end

		return false
	end

	add_autopickup_func(ammo_pickup)
}

###############
# Spell slots #
###############

# Set Alias for Spell Slots
slot := spell_slot

# Try to keep in aplhabetic order
slot += Shroud:a
slot += Freeze:a
slot += Blink:b
slot += Call Imp:c
slot += Petrify:c
slot += Confuse:c
slot += Control Undead:c
slot += Spider Form:c
slot += Conjure Flame:c
slot += Freezing Aura:c
slot += Repel Missiles:d
slot += Deflect Missiles:d
slot += Lethal Infusion:d
slot += Fireball:f
slot += Fire Brand:f
slot += Apportation:g
slot += Haste:h
slot += Abjuration:q
slot += Regeneration:r
slot += Recall:r
slot += Swiftness:s
slot += Sticky Flame:s
slot += Sticks to Snakes:s
slot += Condensation Shield:s
slot += Slow:s
slot += Song of Slaying:s
slot += Passwall:w
slot += Corona:v
slot += Iskenderun's Mystic Blast:x
slot += Call Canine Familiar:c
slot += Blade Hands:x
slot += Mephitic Cloud:x
slot += Lightning Bolt:x
slot += Stone Arrow:x
slot += Vampiric Draining:x
slot += Throw Icicle:x
slot += Throw Flame:x
slot += Throw Frost:x
slot += Lee's Rapid Deconstruction:z
slot += Iskenderun's Battlesphere:z
slot += Spectral Weapon:z
slot += Ozocubu's Armour:A
slot += Animate Skeleton:A
slot += Animate Dead:A
slot += Stoneskin:A
slot += Summon Butterflies:B
slot += Controlled Blink:B
slot += Control Teleport:C
slot += Death's Door:D
slot += Flight:F
slot += Cure Poison:P
slot += Borgnjor's Revivification:R
slot += Phase Shift:S

################
# Auto Exclude #
################

## paralyzing monsters ##
auto_exclude += [^c] wizard, eyeball, orb of eyes, sphinx, lich, ancient lich, ogre-mage, Norris
auto_exclude += vampire knight, deep elf mage, orc sorcerer, Grinder, Rupert, Ereshkigal, Erolcha

auto_exclude += Roxanne, Sigmund, Hydra, Pikel, slave, Prince Ribbit, Snorg
auto_exclude += Menkaure, Duvessa, Dowan, Blork, Jospeh, jelly, Gastronok
auto_exclude += Urug, Harold, Aizul, Erica, Jorgrun, ancienct lich, orb of fire
auto_exclude += Saint Roka, Boris, Mennas, Nessos, Sonja, Agnes, Wiglaf, Fannar, Louise
auto_exclude += Mara, Arachne, Xtahua, Frances, Frederick, ice statue
auto_exclude += Death drake, Kirke, Hog, Jorgrun, Sojobo, Nergalle

###############
# Auto Travel #
###############

# Set travel delay to -1 for instant-travel, set to 1 to see travel paths
travel_delay = -1

explore_stop = glowing_items,artefacts,greedy_pickup_smart
explore_stop += stairs,shops,altars,portals,branches,runed_doors
explore_stop += greedy_sacrificeable

# Adjusts how much autoexplore favours attempting to discover room perimeters and corners. 
# At values higer than 0, autoexplore will more heavily favour visiting squares that are next to walls
explore_wall_bias = 2

# Make auto travel sacrifice corpses, unless nemelex
sacrifice_before_explore = true
auto_sacrifice = true
: if you.god() == "Nemelex Xobeh" then
	sacrifice_before_explore = false
	auto_sacrifice = false
: end

# Disables key press from stopping autoexplore
travel_key_stop = false

runrest_ignore_message += You feel.*sick
runrest_ignore_poison = 3:30
runrest_ignore_monster += butterfly:1

trapwalk_safe_hp = dart:15,needle:25,arrow:25,bolt:30,spear:20,axe:40,blade:50

# Only stop resting when both HP/MP are full
rest_wait_both = true

# Set Alias'
stop := runrest_stop_message
ignore := runrest_ignore_message

# Jiyva Messages
: if you.god() == "Jiyva" then
	ignore += Jiyva gurgles merrily
	ignore += Jiyva appreciates your sacrifice
	ignore += Jiyva says: Divide and consume
	ignore += You hear.*splatter
: end

# Annoyances  -- Don't stop autotravel for these events
ignore += You feel.*sick
ignore += disappears in a puff of smoke
ignore += engulfed in a cloud of smoke
ignore += standing in the rain
ignore += engulfed in white fluffiness
ignore += safely over a trap
ignore += A.*toadstool withers and dies
ignore += toadstools? grow
ignore += You walk carefully through the
ignore += grinding sound
ignore += contamination has completely
ignore += in your inventory.*rotted away

# Bad things -- Stop autotravel for these events
stop += found a zot trap
stop += Wait a moment
stop += You fall through a shaft
stop += An alarm trap emits a blaring wail
stop += (blundered into a|invokes the power of) Zot
stop += hear a soft click
stop += A huge blade swings out and slices into you!
stop += sense of stasis
stop += flesh start
stop += (starving|devoid of blood)
stop += wrath finds you
stop += lose consciousness

# Expiring effects -- Stop autotravel for spells beginning to expire (to allow recasts)
# Haste
stop += You feel yourself slow down
# Flight
stop += You are starting to lose your buoyancy
stop += You lose control over your flight
# Necromutation
stop += Your transformation is almost over
stop += You have a feeling this form
stop += You feel yourself come back to life
# Control Teleport
stop += uncertain
# Deaths Door
stop += time is quickly running out
stop += life is in your own hands
# Enslavement
stop += is no longer charmed
# Shroud
stop += shroud begins to fray
stop += shroud unravels
# Swiftness
stop += start to feel a little slower
# Repel/Deflect
stop += missiles spell is about to expire

# Ghouls
: if you.race() == "Ghoul" then
	stop += smell.*(rott(ing|en)|decay)
	stop += something tasty in your inventory
: end

# Good things - Bad things wearing off
stop += Your magical contamination has completely faded away
stop += You are no longer firmly anchored in space

#ignore += pray:
#ignore += friend_spell:
#ignore += friend_enchant:
#ignore += friend_action:
#ignore += sound:

#################
# Force Prompts #
#################

# Set Alias
more := force_more_message

# Important dungeon features
more += interdimensional caravan
more += distant snort
more += Found a gateway leading out of the Abyss
more += wave of frost
more += roar of battle
more += There is an entrance to a bailey on this level
more += oppresive heat
more += tolling of a bell
more += sound of rushing water
more += Found a frozen archway

: if you.god() == "Ashenzari" then
	more += You have a vision of.*gates?
: end

more += Done waiting

# Translocations
more += You.*([^/+]blink|teleport) [^f]
more += Your surroundings suddenly seem different

# Wands/Potions
more += zaps a wand
more += drinks a potion

# Abyssal Rune
more += Found .* abyssal rune of Zot

# Dangerous Monsters
more += Giant eyeball.*comes? into view
more += Lich.*comes? into view
more += The blast of calcifying dust hits you
more += You are engulfed in calcifying dust
more += begins to recite a word of recall
more += You are engulfed in dark miasma
more += swoops through the air toward you
more += orange crystal statue.*comes? into view

# Interrupts for unexpected situations
more += You don't.* that spell
more += You fail to use your ability
more += You miscast
more += You cannot teleport right now
more += You can't (read|drink) that
more += That item cannot be evoked
more += This wand has no charges
more += You are held in a net
more += You have disarmed
more += You can't gag anything down
more += You don't have any such object
more += do not work when you're silenced
more += You can't unwield
more += You don't have enough magic
more += You haven't enough magic at the moment
more += You feel your control is inadequate
more += You feel strangely unstable
more += You have finished your manual
more += You can't take your gloves off to put on a ring
more += You feel your power leaking away
more += You feel your power drain away
more += Space warps horribly around you
more += Your damage is reflected back at you
more += dark mirror aura disappears
more += Space bends around you
more += The.*grabs you[^r]
more += Your attempt to break free
more += The.*is a mimic
more += The.*offers itself to Yredelemnul, and fills with unholy energy
more += You are blown backwards!
more += Agitated ravens fly out from beneath the
more += goes berserk
more += are blown away by the wind
more += Your magical defenses are stripped away
more += appears out of thin air
more += You feel less protected from missiles
more += Your body is wracked with pain
more += surroundings become eerily quiet
more += The pull of.*song draws you forwards
more += comes up the stairs
more += The jumping spider pounces on you [^but]
more += The jumping spider leaps
more += Wisps of shadow swirl around
more += begins to accept its allies' injuries
more += doors? slams? shut
more += Miasma billows from the
more += firmly anchored in space
more += You stumble into the trap
more += You have no appropriate body parts free
more += drinks a potion
more += You stop ascending the stairs
more += The walls disappear
more += too hungry to go berserk
more += The spell fizzles
more += Your body armour is too heavy
more += stands defiantly in death's doorway
more += This potion can/'t work under stasis
more += splits in two

# Interrupts for Bad things
more += Your surroundings flicker
more += You feel yourself grow more vulnerable to poison
more += The poison in your body grows stronger
more += burn any scroll you tried to read
more += Your icy (shield|armour) evaporates
more += Your.*(shield|armour) melts away
more += sense of stasis
more += Your amulet of stasis
more += You cannot teleport right now
more += You smell decay
more += The writing blurs in front of your eyes
more += You fall through a shaft
more += A huge blade swings out and slices into you
more += (blundered into a|invokes the power of) Zot
more += Ouch! That really hurt!
more += dispelling energy hits you
more += You convulse
more += You feel drained
more += You are (blasted|electrocuted)
more += (You are|You're).*(confused|poisoned)
more += (starving|devoid of blood)
more += wrath finds you
more += lose consciousness
more += You are too injured to fight blindly
more += Green shoots are pushing up through the earth
more += You are covered in liquid flames
more += your.*devoured
more += You are drained
more += shoots a curare
more += You are blown backwards by the freezing wind
more += You are knocked back by the lance of force
more += You are knocked back by the blast of cold
more += You stumble backwards
more += You are trampled
more += Okawaru sends forces against you
more += You are slowing down.
more += You flicker for a moment.
more += You flicker back
more += The.*is unaffected
more += You (become entangled|are caught) in (a|the) (web|net)
more += The arrow of dispersal hits you
more += The forest starts to sway and rumble
more += Vines fly forth from the trees!
more += A tree reaches out and hits you!
more += You are hit by a branch
more += The.*answers the.*call
more += The air twists around and violently strikes you in flight
more += The.*engulfs you in water
more += The power of Zot is invoked against you
more += The acid corrodes your
more += You feel (dopey|clumsy|weak)
more += The air around.*erupts in flames
more += Terrible wounds (open|spread)
more += You are encased in ice
more += Your.*suddenly stops moving
more += You suddenly stop moving
more += Your surroundings seem slightly different
more += Your resistance to elements expires
more += You feel a (horrible|terrible) chill
more += You are burned terribly
more += You are mesmerised
more += The barbed spikes become lodged in your body
more += A sentinel's mark forms upon you
more += The silver sears you
more += seems to speed up
more += steals.*your
more += infuriates you
more += reflects.*of reflection
more += You cannot afford.*fee
more += You can move again
more += You slip out of the net
more += You feel your flesh rotting away
more += You feel your translocation being delayed
more += There is a sealed passage
more += Something appears in a flash of light

# Interrupts for Hell effects
more += You will not leave this place
more += Die\, mortal
more += We do not forgive those who trespass against us
more += Trespassers are not welcome here
more += You do not belong in this place
more += Leave now\, before it is too late
more += We have you now
more += You smell brimstone
more += Brimstone rains from above
more += You feel lost and a long\, long way from home
more += You shiver with fear
more += You feel a terrible foreboding
more += Something frightening happens
more += You sense an ancient evil watching you
more += You suddenly feel all small and vulnerable
more += You sense a hostile presence
more += A gut-wrenching scream fills the air
more += You hear words spoken in a strange and terrible language
more += You hear diabolical laughter

# Interrupts for Expiring spell effects -- Only force acknowledgement of most important ones
more += You feel yourself slow down
more += You are starting to lose your buoyancy
more += Your hearing returns
#more += Your transformation is almost over
more += You have a feeling this form
more += You feel yourself come back to life
more += time is quickly running out
more += life is in your own hands
more += is no longer charmed
more += shroud falls apart
more += Your extra speed is starting to run out

# Uniques
more += 27-headed.*comes? into view.
more += Agnes.*comes? into view.
more += Aizul.*comes? into view.
more += Antaeus.*comes? into view.
more += Arachne.*comes? into view.
more += Asmodeus.*comes? into view.
more += Asterion.*comes? into view.
more += Azrael.*comes? into view.
more += Blork the orc.*comes? into view.
more += Boris.*comes? into view.
more += Cerebov.*comes? into view.
more += Crazy Yiuf.*comes? into view.
more += Dispater.*comes? into view.
more += Dissolution.*comes? into view.
more += Donald.*comes? into view.
more += Dowan.*comes? into view.
more += Duvessa.*comes? into view.
more += Edmund.*comes? into view.
more += Ereshkigal.*comes? into view.
more += Erica.*comes? into view.
more += Erolcha.*comes? into view.
more += Eustachio.*comes? into view.
more += Fannar.*comes? into view.
more += Frances.*comes? into view.
more += Francis.*comes? into view.
more += Frederick.*comes? into view.
more += Gastronok.*comes? into view.
more += Geryon.*comes? into view.
more += Gloorx Vloq.*comes? into view.
more += Grinder.*comes? into view.
more += Grum.*comes? into view.
more += Harold.*comes? into view.
more += Ignacio.*comes? into view.
more += Ijyb.*comes? into view.
more += Ilsuiw.*comes? into view.
more += Jessica.*comes? into view.
more += Joseph.*comes? into view.
more += Josephine.*comes? into view.
more += Jozef.*comes? into view.
more += Khufu.*comes? into view.
more += Kirke.*comes? into view.
more += Lamia.*comes? into view.
more += Lom Lobon.*comes? into view.
more += Louise.*comes? into view.
more += Mara.*comes? into view.
more += Margery.*comes? into view.
more += Maud.*comes? into view.
more += Maurice.*comes? into view.
more += Menkaure.*comes? into view.
more += Mennas.*comes? into view.
more += Mnoleg.*comes? into view.
more += Murray.*comes? into view.
more += Natasha.*comes? into view.
more += Nergalle.*comes? into view.
more += Nessos.*comes? into view.
more += Nikola.*comes? into view.
more += Norris.*comes? into view.
more += Pikel.*comes? into view.
more += Polyphemus.*comes? into view.
more += Prince Ribbit.*comes? into view.
more += Psyche.*comes? into view.
more += Purgy.*comes? into view.
more += Roxanne.*comes? into view.
more += Rupert.*comes? into view.
more += Saint Roka.*comes? into view.
more += Sigmund.*comes? into view.
more += Snorg.*comes? into view.
more += Sojobo.*comes? into view.
more += Sonja.*comes? into view.
more += Terence.*comes? into view.
more += The Lernaean hydra.*comes? into view.
more += The royal jelly.*comes? into view.
more += The Serpent of Hell.*comes? into view.
more += Tiamat.*comes? into view.
more += Urug.*comes? into view.
more += Vashnia.*comes? into view.
more += Wiglaf.*comes? into view.
more += Xtahua.*comes? into view.
more += 's ghost.* comes? into view

# Others
more += You have reached level
more += Your scales start
more += You can now
more += Your? can no longer
more += You feel monstrous
more += Jiyva alters your body
: if you.god() == "Xom" then
	more += god:
: end

#############
# Interface #
#############

allow_self_target = prompt
easy_confirm = safe
confirm_butcher = never
easy_eat_chunks = true
auto_eat_chunks = true
auto_drop_chunks = yes
easy_eat_contaminated = true
equip_unequip = true

hp_warning = 25
mp_warning = 25
hp_colour = 100:green, 99:lightgray, 75:yellow, 50:lightred, 25:red
mp_colour = 100:green, 99:lightgray, 75:yellow, 50:lightred, 25:red
stat_colour = 3:red, 7:lightred
# Removes the more prompts when outputting more than one screen of messages
show_more = false
small_more = true
# Changes the turn display to show player turns (used for scoring)
show_game_turns = false

msg_min_height=7
msg_max_height=10

default_manual_training = true

####################
# Message coloring #
####################

# black, blue, green, cyan, red, magenta, brown, lightgrey,
# darkgrey, lightblue, lightgreen, lightcyan, lightred,
# lightmagenta, yellow, white

$inedible     := darkgrey
$evil         := red
$preferred    := yellow
$rot-inducing := lightred
$mutagenic    := magenta
$dangerous    := magenta
$poisonous    := lightgreen

# Standard colours to be used for message highlighting
$danger   := lightred
$item_dmg := red
$warning  := yellow
$boring   := darkgrey
$negative := brown
$good     := lightblue
$positive := blue
$verypositive := green
$awesome := lightgreen
$interface := cyan
$takesaction := lightmagenta
$godaction := magenta

channel.floor = darkgrey

# Set Alias
msc := message_colour
# Clear defaults
msc =

msc += white:You feel blessed for a moment

#msc += $danger:
msc += $danger:Your.*(shield|armour) melts away
msc += $danger:drains you
msc += $danger:feel drained
msc += $danger:strangely unstable
msc += $danger:curare-tipped.*hits you
msc += $danger:Space warps.* around you
msc += $danger:Space bends around you
msc += $danger:sense of stasis
msc += $danger:clumsily bash
msc += $danger:goes berserk
msc += $danger:Forgetting.* will destroy the book
msc += $danger:The blast of calcifying dust hits you
msc += $danger:You are engulfed in calcifying dust
msc += $danger:^It .* you
msc += $danger:[^f]Something.*you[^r]
msc += $danger:You block its attack
msc += $danger:grabs you
msc += $danger:constricts you
msc += $danger:you convulse
msc += $danger:The.*is unaffected
msc += $danger:The.*blinks into view
msc += $danger:seems to speed up
msc += $danger:You feel yourself slow down
msc += $danger:The alarm trap emits a blaring wail
msc += $danger:The mark upon you grows brighter.
msc += $danger:flickers (and vanishes|out of sight)
msc += $danger:Terrible wounds (open|spread)
msc += $danger:The acid burns
msc += $danger:The.*is recalled.
msc += $danger:The.*blows on a signal horn!
msc += $danger:You miscast
msc += $danger:zaps a wand
msc += $danger:You are no longer berserk
msc += $danger:The giant eyeball stares at you
msc += $danger:You suddenly lose the ability to move
msc += $danger:Your.*glows black for a moment
msc += $danger:You are caught in a web
msc += $danger:You are knocked back by the lance of force
msc += $danger:You are knocked back by the blast of cold
msc += $danger:You feel very sick
msc += $danger:splits in two
msc += $danger:The lost soul (assumes the form|sacrifices itself)
msc += $danger:Necromantic energies
msc += $danger:You feel an extremely numb sensation
msc += $danger:You feel jittery for a moment
msc += $danger:You are caught in (a|the) (web|net)
msc += $danger:You become entanged in (a|the) (web|net)
msc += $danger:You fall asleep
msc += $danger:The forest starts to sway and rumble
msc += $danger:Vines fly forth from the trees!
msc += $danger:Roots grasp at your
msc += $danger:The.*picks up a wand
msc += $danger:You struggle against (a|the) (net|web)
msc += $danger:You struggle to escape the net
msc += $danger:The.*engulfs you in water
msc += $danger:Your magical defenses are stripped away
msc += $danger:appears out of thin air
msc += $danger:You feel less protected from missiles
msc += $danger:The power of Zot is invoked against you
msc += $danger:you fail to dodge
msc += $danger:Death has come for you
msc += $danger:Your body is wracked with pain
msc += $danger:You really shouldn't be using
msc += $danger:You sense an overwhelmingly malignant aura
msc += $danger:Space twists in upon itself
msc += $danger:Strange energies course through your body
msc += $danger:You feel haunted
msc += $danger:Your.*suddenly stops moving
msc += $danger:You feel incredibly sick
msc += $danger:You don't have enough magic
msc += $danger:You haven't enough magic at the moment
msc += $danger:You fall through a shaft
msc += $danger:seems to grow stronger
msc += $danger:You die.
msc += $danger:Dowan seems to find hidden reserves of power
msc += $danger:Oops, that.*feels deathly cold
msc += $danger:You struggle to resist
msc += $danger:You barely resist
msc += $danger:You turn into an animated tree
msc += $danger:Your roots penetrate the ground
msc += $danger:is no longer charmed
msc += $danger:You try to slip out of the net
msc += $danger:You become entangled in the net
msc += $danger:You feel a build-up of mutagenic energy
msc += $danger:You cannot pacify this monster 
msc += $danger:You feel a (horrible|terrible) chill
msc += $danger:You are burned terribly
msc += $danger:The moth of wrath goads
msc += $danger:you trip and fall back down the stairs
msc += $danger:the glow from your corona prevents you from becoming completely invisible
msc += $danger:A red film seems to cover your vision as you go berserk
msc += $danger:Your limbs are stiffening
msc += $danger:You have turned to stone
msc += $danger:You feel.*ill
msc += $danger:You can't gag anything down
msc += $danger:Something feeds on your intellect
msc += $danger:The barbed spikes become lodged in your body
msc += $danger:You feel your translocation being delayed
msc += $danger:You fail to use your ability
msc += $danger:Oh no! You have blundered into a Zot trap
msc += $danger:reads a scroll
msc += $danger:Wisps of shadow swirl around
msc += $danger:The.*grows two more
msc += $danger:There is a sealed passage
msc += $danger:doors? slams? shut
msc += $danger:A basket of spiders falls from above
msc += $danger:is bolstered by the flame
msc += $danger:attempts to bespell you
msc += $danger:You feel horribly lethargic
msc += $danger:firmly anchored in space
msc += $danger:drinks a potion
msc += $danger:You hear a zap
msc += $danger:You stop ascending the stairs
msc += $danger:You tear a large gash into the net
msc += $danger:reflects.*of reflection
msc += $danger:The walls disappear
msc += $danger:You cannot afford.*fee
msc += $danger:This weapon is already enchanted
msc += $danger:You feel.*sluggish
msc += $danger:You feel extremely strange
msc += $danger:You feel the urge to shout
msc += $danger:This meat tastes really weird
msc += $danger:Your vision blurs
msc += $danger:It was a potion of paralysis
msc += $danger:You feel frail
msc += $danger:You feel rather ponderous
msc += $danger:That seemed strangely inert
msc += $danger:You can't unwield your weapon to draw a new one
msc += $danger:the volcano erupts with a roar
msc += $danger:You're too hungry to rest
msc += $danger:burn any scroll you tried to read
msc += $danger:evokes.*amulet
msc += $danger:take too long for a potion to reach your roots
msc += $danger:There was something very wrong with that liquid
msc += $danger:You cannot move
msc += $danger:stands defiantly in death's doorway
msc += $danger:zaps a rod
msc += $danger:twongs alarmingly
msc += $danger:You feel yourself grow more vulnerable to poison
msc += $danger:The poison in your body grows stronger
msc += $danger:You are being crushed by all of your possessions
msc += $danger:You are carrying too much
msc += $danger:You draw Wild Magic
msc += $danger:You draw the Helix
msc += $danger:This potion can/'t work under stasis
msc += $danger:Your icy (shield|armour) evaporates


#msc += $item_dmg:
msc += $item_dmg:acid corrodes
msc += $item_dmg:catch(es)? fire
msc += $item_dmg:freezes? and shatters?
msc += $item_dmg:covered with spores
msc += $item_dmg:devours some of your food
msc += $item_dmg:rots? away
msc += $item_dmg:It has a very clean taste
msc += $item_dmg:It was a potion of cure mutation
msc += $item_dmg:You feel your flesh rotting away
msc += $item_dmg:You are engulfed in dark miasma
msc += $item_dmg:You feel guilty
msc += $item_dmg:Done waiting

#msc += $warning:
msc += $warning:You smell decay
msc += $warning:The heat melts your.*(armour|shield)
msc += $warning:You are engulfed in a cloud of spores
msc += $warning:You feel less perceptive
msc += $warning:A profound silence engulfs you
msc += $warning:Hurry and find it before the entrance collapses
msc += $warning:Your memory of.*unravels
msc += $warning:You speak a Word of immense power
msc += $warning:seems to move somewhat quicker
msc += $warning:steals.*your
msc += $warning:A tentacle flies out from the starspawn's body
msc += $warning:The explosive bolt releases an explosion
msc += $warning:There is a Zot trap here
msc += $warning:You enter a teleport trap
msc += $warning:You need to enable at least one skill for training
msc += $warning:You (resume|stop) training
msc += $warning:You feel slightly jumpy
msc += $warning:You are splashed with acid
msc += $warning:ticking.*clock
msc += $warning:dying ticks
msc += $warning:distant snort
msc += $warning:odd grinding sound
msc += $warning:creaking of ancient gears
msc += $warning:floor suddenly vibrates
msc += $warning:a sudden draft
msc += $warning:coins.*counted
msc += $warning:tolling.*bell
msc += $warning:fails to return
msc += $warning:Something appears in a flash of light
msc += $warning:you turn into a fiery being
msc += $warning:no longer ripe
msc += $warning:The spell fizzles
msc += $warning:Your body armour is too heavy
msc += $warning:The crackling of melting ice is subsiding rapidly
msc += $warning:seems to gain new vigour
msc += $warning:(recites|explains|preaches|embarks|launches|threatens|murmurs|breathes)
msc += $warning:(shout|hisses|gurgles|screeches|barks|cheers|buzzes|grunts|makes a sound|complains)
msc += $warning:(shriek|roars|says|moans|keens|mumbles|wails|croak|screams|chants|Floosh|trumpets)
msc += $warning:(gibbers|growls|whisper|wail|asks|sighs|laughs|yells|cries|caws|queries|sneers)
msc += $warning:(jeers|bellows|chilling moan|scowls|sings|whimpers|cackles|mewls|snorts|grits)
msc += $warning:Dowan breathes
msc += $warning:You hear
msc += $warning:You drop
msc += $warning:seems more stable
msc += $warning:opens the (door|gate|large door)
msc += $warning:dissolves into sparkling lights
msc += $warning:Your attempt to break free
msc += $warning:[^un]wields
msc += $warning:There is a portal leading out of here
msc += $warning:The.*wears
msc += $warning:You are.*contaminated
msc += $warning:blinks
msc += $warning:You are starting to lose your buoyancy
msc += $warning:You float gracefully downwards
msc += $warning:Your surroundings suddenly seem different
msc += $warning:You feel your bond with your spectral weapon wane
msc += $warning:It (begins to drip with poison|bursts into flame|glows with a cold blue light|stops glowing|softly glows with a divine radiance)
msc += $warning:You sense an unholy aura
msc += $warning:It is covered in frost
msc += $warning:Your spectral weapon fades away
msc += $warning:The shock serpent begins to gather electrical charge
msc += $warning:moves out of view
msc += $warning:basks in the mutagenic energy
msc += $warning:Flickering shadows surround you
msc += $warning:You found a.*trap
msc += $warning:You.*one of the.*heads off
msc += $warning:The ironheart preserver begins to accept
msc += $warning:slime creatures merge
msc += $warning:roars a battle-cry
msc += $warning:The.*is healed
msc += $warning:You stumble backwards
msc += $warning:it creaks loudly
msc += $warning:The (fireball|.*hellfire|ghostly fireball|ghostly flame) explodes!
msc += $warning:You are caught in a fiery explosion
msc += $warning:stops burning
msc += $warning:The.*curls into a ball and starts rolling
msc += $warning:(The |.*)is healed
msc += $warning:You stop butchering
msc += $warning:You feel less studious
msc += $warning:corpses? merges with a
msc += $warning:corpses? begins to drag
msc += $warning:corpses meld into an agglomeration of writhing flesh
msc += $warning:beckons forth a restless soul
msc += $warning:Something reaches out for you
msc += $warning:Something tries to feed on your intellect
msc += $warning:You feel a brief urge to hack something to bits
msc += $warning:Pain shudders through your arm!
msc += $warning:You struggle to detach yourself from the web
msc += $warning:The.*passes through your shield
msc += $warning:draws strength from your injuries
msc += $warning:The.*changes into
msc += $warning:The.*jumps down from its now dead mount
msc += $warning:The.*pierces through
msc += $warning:The.*swoops through the air toward you
msc += $warning:The forest fire spreads
msc += $warning:The tree burns like a torch
msc += $warning:magical defenses are stripped away
msc += $warning:You blink
msc += $warning:You teleport
msc += $warning:You step into.*shadow
msc += $warning:Grasping roots rise from the ground around the
msc += $warning:The winds start to flow at the.*will
msc += $warning:The.*exhales a fierce blast of wind
msc += $warning:The .*(are|is) blown away
msc += $warning:The.*answers the.*call
msc += $warning:goes into a frenzy at the smell of blood
msc += $warning:Agitated ravens fly out from beneath the
msc += $warning:You're too full
msc += $warning:Your memorisation is interrupted
msc += $warning:The winds coalesce and take form
msc += $warning:You slice into (a|the) (net|web)
msc += $warning:You smell burning wood
msc += $warning:The.*stumbles backwards
msc += $warning:looks slightly unstable
msc += $warning:The dead are
msc += $warning:surroundings become eerily quiet
msc += $warning:slips into darkness
msc += $warning:The air around.*erupts in flames
msc += $warning:hops backward while attacking
msc += $warning:violent explosion of flames
msc += $warning:turns its malign attention towards you
msc += $warning:Splash!
msc += $warning:You fall into the shallow water
msc += $warning:The water rises up and takes form
msc += $warning:You stop dropping stuff
msc += $warning:You enter the shallow water
msc += $warning:You see a puff of smoke
msc += $warning:pour from your hands
msc += $warning:Tentacles burst out of the water
msc += $warning:calls forth a grand avatar
msc += $warning:begins absorbing vital energies
msc += $warning:focuses on the pain
msc += $warning:suddenly seems more agile
msc += $warning:regenerates before your eyes
msc += $warning:You feel corrupt for a moment
msc += $warning:Send 'em back where they came from
msc += $warning:The net rips apart
msc += $warning:Your surroundings seem slightly different
msc += $warning:You are under the weather
msc += $warning:You are standing in the rain
msc += $warning:The rain has left you waist-deep in water
msc += $warning:an escape hatch
msc += $warning:We do not forgive those who trespass against us
msc += $warning:There is a.*(staircase|entrance).*here
msc += $warning:Clearing level map
msc += $warning:A.*appears from out of thin air
msc += $warning:looks more healthy
msc += $warning:A mysterious force pulls you upwards
msc += $warning:There's nothing close enough
msc += $warning:Hurry and find it before the portal
msc += $warning:You slide downwards
msc += $warning:punctures the fabric of the universe
msc += $warning:degenerates into a cloud
msc += $warning:wounds heal themselves
msc += $warning:You are now empty
msc += $warning:is no longer moving slowly 
msc += $warning:is completely healed
msc += $warning:You heal
msc += $warning:It is briefly surrounded by a scintillating aura of random colours
msc += $warning:Partly explored
msc += $warning:There is a (shaft|glowing drain) here
msc += $warning:Autopickup is now
msc += $warning:Dowan seems overcome with grief, but rights himself reflexively soon after
msc += $warning:You feel that this wand is rather unreliable
msc += $warning:You feel less protected
msc += $warning:You finish taking off
msc += $warning:You hear a crashing sound
msc += $warning:The weapon returns to the
msc += $warning:You finish putting on your cursed
msc += $warning:Can't find anything matching that
msc += $warning:you feel a great hunger. Being not satiated
msc += $warning:shatters
msc += $warning:apparitions take form around you
msc += $warning:You feel your magic capacity is already quite full
msc += $warning:melds into your body
msc += $warning:You can't wear that
msc += $warning:You feel vulnerable
msc += $warning:You are too injured to fight recklessly
msc += $warning:pulls away from the web
msc += $warning:withdraws into its
msc += $warning:The orb of electricity explodes
msc += $warning:The manticore flicks its tail
msc += $warning:is no longer petrified
msc += $warning:You remove your
msc += $warning:Your.*dissolves into shadows
msc += $warning:Your.*stops moving altogether
msc += $warning:hides itself under the floor
msc += $warning:You open the lid...
msc += $warning:puts on a burst of speed
msc += $warning:The.*decay slows
msc += $warning:This wand has
msc += $warning:Thorny briars emerge from the ground!
msc += $warning:No target in view
msc += $warning:You flicker for a moment
msc += $warning:You flicker back
msc += $warning:appears from thin air
msc += $warning:You now have enough gold to buy
msc += $warning:There is a.*altar.*here
msc += $warning:You kneel at the altar
msc += $warning:You start to feel less resistant
msc += $warning:Your resistance to elements expires
msc += $warning:You feel a strong urge to attack something
msc += $warning:You cannot move away from
msc += $warning:The pull of.*song draws you forwards
msc += $warning:Shadowy forms rise from the deep
msc += $warning:You feel as though you will be slow longer
msc += $warning:disappears!
msc += $warning:Your.*is no longer moving quickly
msc += $warning:You feel your magic capacity decrease
msc += $warning:drains the heat from the surrounding environment
msc += $warning:You feel more attuned to
msc += $warning:(Wait here!|Stop fighting!|Fall back!|Follow me!|Attack!)
msc += $warning:pounces on you
msc += $warning:A tentacle rises from the water
msc += $warning:You have finished your manual
msc += $warning:comes up the stairs
msc += $warning:You catch a bit of a chill
msc += $warning:A ballistomycete grows in the wake of the spore
msc += $warning:A fungus suddenly grows
msc += $warning:A toadstool grows
msc += $warning:then quickly surges around you
msc += $warning:A fierce wind blows
msc += $warning:The jumping spider pounces on you
msc += $warning:There is a sudden explosion of frost
msc += $warning:The jumping spider leaps
msc += $warning:There's something blocking the doorway
msc += $warning:That was not very filling
msc += $warning:You failed to disarm the trap
msc += $warning:is covered with a thin layer of ice
msc += $warning:draws out.*weapon's spirit
msc += $warning:You are pushed out
msc += $warning:thirsts for the lives of mortals
msc += $warning:emits a brilliant flash of light
msc += $warning:is firebranded into
msc += $warning:is no longer bleeding
msc += $warning:The dungeon rumbles around Jorgrun!
msc += $warning:evaporates and reforms as
msc += $warning:You turn into a venomous arachnid creature
msc += $warning:infuriates you
msc += $warning:Your extra speed is starting to run out
msc += $warning:You feel a little less
msc += $warning:Your skin is crawling a little less now
msc += $warning:Your skin stops crawling
msc += $warning:You stumble into the trap
msc += $warning:A raging storm of fire appears
msc += $warning:Your transformation is almost over
msc += $warning:You feel magic leave you
msc += $warning:You feel magic returning to you
msc += $warning:Expect minor deviation
msc += $warning:Your (horns|talons) disappear
msc += $warning:Tentacles burst from the starspawn
msc += $warning:you must find a gate leading back
msc += $warning:You fall off the wall
msc += $warning:Blech - you need (greens|meat)
msc += $warning:The exploding dart explodes
msc += $warning:A starcursed mass splits
msc += $warning:You draw the Sage
msc += $warning:You feel a wave of frost pass over you
msc += $warning:too hungry to go berserk
msc += $warning:You have no appropriate body parts free
msc += $warning:The creatures around you are filled with an inner flame
msc += $warning:Your battlesphere expends the last of its energy and dissipates
msc += $warning:You feel less healthy
msc += $warning:summons a great blast of wind
msc += $warning:Your battlesphere wavers and loses cohesion
msc += $warning:You feel your bond with your battlesphere wane
msc += $warning:You feel less resistant to hostile enchantments
msc += $warning:Your cloak prevents you from wearing the armour
msc += $warning:You feel the dreadful sensation subside
msc += $warning:Something picks up
msc += $warning:Your attack snaps.*out of its fear
msc += $warning:You feel blessed for a momento
msc += $warning:You draw a card
msc += $warning:Walls emerge from the floor
msc += $warning:is knocked back by the flood of elemental water
msc += $warning:blown away by the wind
msc += $warning:You pace your travel speed to your slowest ally
msc += $warning:The.*reappears nearby
msc += $warning:The deck of cards disappears
msc += $warning:There is a rocky tunnel leading out of this place here
msc += $warning:The walls and floor vibrate strangely for a moment
msc += $warning:Your icy (shield|armour) starts to melt
msc += $warning:The ball explodes into a vile cloud
msc += $warning:Your legs become a tail
msc += $warning:You feel the effects of Trog's Hand fading
msc += $warning:You slam the door shut with a bang
msc += $warning:This armour is.*for you
msc += $warning:magical effects unravel
msc += $warning:You erupt
msc += $warning:Nergalle is no longer invulnerable
msc += $warning:The flames covering.*go out
msc += $warning:bleats in terror
msc += $warning:seems to regain its courage
msc += $warning:You have a feeling of ineptitude
msc += $warning:falls through a shaft
msc += $warning:You cannot throw anything while held in a net
msc += $warning:furiously retaliates
msc += $warning:The blast of chaos engulfs your?
msc += $warning:You are engulfed in seething chaos
msc += $warning:Your song has ended
msc += $warning:is in the way
msc += $warning:You are too berserk
msc += $warning:The tentacle pulls you backwards
msc += $warning:starcursed mass shudders and
msc += $warning:The kraken squirts a massive cloud of ink
msc += $warning:Wisps of shadow whirl around you
msc += $warning:You are blown backwards
msc += $warning:I don't know how to get there
msc += $warning:There is a magical portal here
msc += $warning:pulses with an eldritch light
msc += $warning:You feel controlled for a moment
msc += $warning:You stop putting on your armour
msc += $warning:You feel buoyant
msc += $warning:We have you now
msc += $warning:You do not belong in this place
msc += $warning:Leave now\, before it is too late
msc += $warning:There is a sudden explosion of magical energy
msc += $warning:Something forms from out of thin air
msc += $warning:You sense a hostile presence
msc += $warning:Trespassers are not welcome here
msc += $warning:You feel a terrible foreboding
msc += $warning:You will not leave this place
msc += $warning:wrenching scream
msc += $warning:Leave now/, before it is too late

msc ^= $boring:You reach to attack
msc += $boring:Your bones ache
msc += $boring:Thank you for shopping
msc += $boring:Your ears itch
msc += $boring:Prince Ribbit hops awkwardly around
msc += $boring:The dust glows shining gridelin
msc += $boring:You pass into a different region of Pandemonium
msc += $boring:You smell brimstone
msc += $boring:Something frightening happens
msc += $boring:Multicoloured lights dance before your eyes
msc += $boring:Some snowflakes condense on Fannar
msc += $boring:shape twists and changes as it dies
msc += $boring:No such ability
msc += $boring:The plume of ash settles
msc += $boring:You feel uncomfortably hot
msc += $boring:You can't wield that with a shield
msc += $boring:You are already wielding that
msc += $boring:The blast of magma explodes
msc += $boring:Crazy Yiuf glowers
msc += $boring:Crazy Yiuf flaps his cloak
msc += $boring:Crazy Yiuf waves his quarterstaff at you
msc += $boring:You feel lost and a long
msc += $boring:The world around you seems to dim momentarily
msc += $boring:tears through a web
msc += $boring:Pikel waves his whip at you
msc += $boring:Wisps of condensation drift from your hands
msc += $boring:A chill runs through your body
msc += $boring:Frost covers your body
msc += $boring:Your hands feel numb with cold
msc += $boring:That.*was very bland
msc += $boring:That lemon was rather sour
msc += $boring:vibrates crazily for a second
msc += $boring:The crimson imp breathes (steam|mist) at you
msc += $boring:showing sharp teeth
msc += $boring:Maurice looks sneaky
msc += $boring:Suddenly you are surrounded with a pale green light
msc += $boring:really hit the spot
msc += $boring:Mmmm... Yummy
msc += $boring:looks to the heavens
msc += $boring:beckons to you
msc += $boring:fades away
msc += $boring:You feel electric
msc += $boring:sharp shower of sparks
msc += $boring:pulsates ominously
msc += $boring:You feel earthy
msc += $boring:Sparks of electricity dance between your hands
msc += $boring:Edmund gestures with his flail
msc += $boring:You feel very uncomfortable
msc += $boring:tastes (great|very good|good|unpleasant)
msc += $boring:is not very appetising
msc += $boring:was delicious
msc += $boring:Xtahua glares at you
msc += $boring:You pass through the gate
msc += $boring:The starspawn's tentacles wither and die
msc += $boring:Trunks creak and shift
msc += $boring:unmelds from your body
msc += $boring:The air around.*crackles with energy
msc += $boring:Something.*the (bush|plant)
msc += $boring:There's nothing there!
msc += $boring:You briefly turn translucent
msc += $boring:unborn seems to be listening
msc += $boring:You can only put on jewellery
msc ^= $boring:You smell decay. Yuck!
msc += $boring:Ouch!
msc += $boring:The water nymph flows with the water
msc += $boring:There isn't anything here
msc += $boring:The air around you briefly surges with heat
msc += $boring:Your skin glows momentarily
msc += $boring:The drowned soul returns to the deep
msc += $boring:You shiver with cold
msc += $boring:Your.*glows (bright chartreuse|shining black|silvery red|dark black) for a moment
msc += $boring:Waves of light ripple over your body
msc += $boring:Your skin tingles
msc += $boring:looks braver
msc += $boring:You enjoyed that
msc += $boring:Your brain hurts
msc += $boring:becomes somewhat translucent
msc += $boring:generates a fountain of clear water
msc += $boring:You cannot attack while caught
msc += $boring:You cannot throw anything while caught
msc += $boring:grinds (her|his) teeth
msc += $boring:bristles in rage as it notices you
msc += $boring:You feel forgetful for a moment
msc += $boring:The briar patch crumbles away
msc += $boring:You feel momentarily lethargic
msc += $boring:It was a (potion|scroll)
msc += $boring:...but nothing happens
msc += $boring:Wisps of smoke drift from your hands
msc += $boring:tries to hide in the shadows
msc += $boring:stops crackling
msc += $boring:You momentarily stiffen
msc += $boring:waves its rhizomes
msc += $boring:You smell (smoke|something weird)
msc += $boring:The floor shifts beneath you alarmingly
msc += $boring:The reaper smiles without lips
msc += $boring:There isn't anything to butcher here
msc += $boring:crushes a nearby insect and laughs
msc += $boring:Welcome back to the Dungeon
msc += $boring:You are blasted with air
msc ^= $boring:There is a collapsed entrance here
msc += $boring:You feel slightly nauseous
msc += $boring:You have identified the last
msc += $boring:You can't see any susceptible monsters within range! (Use Z to cast anyway.)
msc += $boring:You can't go (up|down) here
msc += $boring:Your hair stands on end
msc += $boring:Wisps of vapour drift from your hands
msc += $boring:This raw flesh tastes terrible
msc += $boring:the (plant|fungus)
msc += $boring:You are momentarily dazzled by a (brilliant|flash of) light
msc ^= $boring:(flickers out of sight|slips into darkness|flickers and vanishes) for a moment
msc += $boring:The golden flame engulfs your?
msc += $boring:The shaft crumbles and collapses
msc += $boring:An air elemental (merges|forms) itself (into|from) the air
msc += $boring:A corpse collapses into a pulpy mess
msc += $boring:You start (resting|waiting)
msc += $boring:Unknown command
msc ^= $boring:but (do no|doesn't do any|does no) damage
msc += $boring:miss
msc += $boring:You walk carefully through
msc += $boring:grow from
msc += $boring:withers and dies
msc += $boring:Your.*(unaffected|resists?)
msc += $boring:There is nothing on the other side of the stone arch
msc += $boring:misses you
msc += $boring:Your? appears? unharmed
msc += $boring:You are waved at by a branch
msc += $boring:The trees move their gnarly branches around
msc += $boring:The naga ritualist's toxic aura wanes.
msc += $boring:Something.*misses
msc += $boring:You swap
msc += $boring:The smell of rotting flesh
msc += $boring:Ugh! There is something really disgusting
msc += $boring:Heat runs through your body
msc += $boring:Lukewarm flames ripple over your body
msc += $boring:stops (dripping with poison|flaming)
msc += $boring:Press } to see all runes
msc += $boring:There is a.*(door|gate)
msc += $boring:(eye-stalks|antennae|whiskers)
msc += $boring:You feel troubled
msc += $boring:You feel a wave of unholy energy pass over you
msc += $boring:(The|Something).*blocks
msc += $boring:blocks your
msc += $boring:grins evilly
msc += $boring:A huge blade swings just past you
msc += $boring:(The|Something).*disappears
msc += $boring:The.*glitters chillingly
msc += $boring:You feel a strange surge of energy
msc += $boring:There are no unholy or evil weapons here to destroy
msc += $boring:close doors on yourself
msc += $boring:Your.*falls off the wall
msc += $boring:stops rolling
msc += $boring:(pauses|quivers|summons a swarm of flies|gazes forward|sputters|skips|stops to sniff)
msc += $boring:turns its.*gaze
msc += $boring:Your summoned ally is left behind
msc += $boring:That felt strangely unrewarding
msc += $boring:The air around you crackles with energy
msc += $boring:in your inventory have.*rotted away
msc += $boring:(drops|picks up|unwields)
msc += $boring:The battlesphere dissipates
msc += $boring:(The|Your?).*(passes|pick your way) through a web
msc += $boring:You feel extremely cold
msc += $boring:You feel terrible
msc += $boring:You sense a malignant aura
msc += $boring:You (hold|stand your ground
msc += $boring:Your.*(holds|stands) its ground
msc += $boring:The.*eats the
msc += $boring:The winds cease moving at the.*will
msc += $boring:The ground creaks as gnarled roots bulge its surface
msc += $boring:rages
msc += $boring:Your.*blocks
msc += $boring:You feel a wrenching sensation
msc += $boring:The.*falls off the wall
msc += $boring:The.*jiggles
msc += $boring:The.*looks excited
msc += $boring:Pikel cracks his whip
msc += $boring:Press } to see all the runes you have collected
msc += $boring:slime creature splits
msc += $boring:stops glowing
msc += $boring:splashes around in the water
msc += $boring:tentacles slide back into the water
msc += $boring:The.*dissolves into shadows
msc += $boring:Nothing appears to happen
msc += $boring:You smell something rotten
msc += $boring:You (close|open) the.*(door|gate)
msc += $boring:reach down and (open|close) the.*(door|gate)
msc += $boring:You (fly|climb) (up|down)wards
msc += $boring:You go (up|down)
msc += $boring:You must enter the number of times for the command to repeat
msc += $boring:Use Z to cast anyway.
msc += $boring:There are no items here
msc += $boring:it crumbles to dust
msc += $boring:The hatch slams shut behind you
msc += $boring:There is an empty arch of ancient stone here
msc += $boring:The world spins around you as you enter the gateway
msc += $boring:This spell is.*dangerous to cast
msc += $boring:There is a web.*here
msc += $boring:You pick your way through the web
msc += $boring:You hold your ground
msc += $boring:The floor vibrates
msc += $boring:Sand pours from your hands
msc += $boring:Strange energies run through your body
msc += $boring:You smell something strange
msc += $boring:The.*evades a web
msc += $boring:Your.*warbles
msc += $boring:The.*goes (up|down) the stairs.
msc += $boring:Found.*gold
msc += $boring:You now have.*gold
msc += $boring:Why would you want to do that
msc += $boring:you're not good enough to have a special ability
msc += $boring:You don't know.*spells?
msc += $boring:You feel momentarily confused
msc += $boring:holds its.*at the ready
msc += $boring:There is a.*fountain.*here
msc += $boring:Little bolts of electricity crackle over the disc
msc += $boring:tries to grin evilly
msc += $boring:There is an empty arch of ancient stone
msc += $boring:The runic seals? fades? away
msc += $boring:Something drops 
msc += $boring:tears the web
msc += $boring:lashes its tail
msc += $boring:smirks and points a slender finger
msc += $boring:spectral weapon stumbles backwards
msc += $boring:Your hands glow momentarily
msc += $boring:Weird images run through your mind
msc += $boring:safely over a trap
msc += $boring:avoid triggering a
msc += $boring:There is a.*trap here
msc += $boring:A net swings high above you
msc += $boring:Your.*disappears
msc += $boring:Natasha extends her claws
msc += $boring:The shadow imp breathes steam at you
msc += $boring:You feel weak for a moment
msc += $boring:You can't see any susceptible monsters within range
msc += $boring:You are momentarily dazzled by a brilliant light
msc += $boring:You feel momentarily weightless
msc += $boring:You feel uncomfortably cold
msc += $boring:Frost spreads across the the floor
msc += $boring:You sense an ancient evil watching you
msc += $boring:Your.*(looks|smiles) at you
msc += $boring:You experience a momentary feeling of inescapable doom
msc += $boring:Something in your inventory has become rotten
msc += $boring:assumes a wrestling stance
msc += $boring:feints to the right
msc += $boring:You smell pepper
msc += $boring:You suddenly feel all small and vulnerable
msc += $boring:There is a rock-blocked tunnel here
msc += $boring:The bat flutters around in erratic circles
msc += $boring:You swing at nothing
msc += $boring:electric golem crackles and sizzles
msc += $boring:ghost ripples
msc += $boring:Maud (looks upset|frowns)
msc += $boring:There is an ice choked empty arch of ancient stone here
msc += $boring:Sparks fly from your hands
msc += $boring:A beastly little devil appears in a puff
msc += $boring:crimson imp breathes smoke at you
msc += $boring:apparition takes form in the air
msc += $boring:Distant voices call out to you
msc += $boring:You are showered with tiny particles of grit
msc += $boring:The scroll reassembles itself in your hands
msc += $boring:You feel uncomfortably hot
msc += $boring:Nergalle blows her nose
msc += $boring:Nergalle looks more energetic
msc += $boring:stampedes away
msc += $boring:You feel a numb sensation
msc += $boring:You can't eat that
msc += $boring:You smell sulphur
msc += $boring:There's nothing to close nearby
msc += $boring:glows dull silver for a moment
msc += $boring:Your.*stumbles backwards
msc += $boring:ghost takes a fighting stance
msc += $boring:You shiver with fear


# Enemies taking damage
msc += $good:You (hit|bite|slice|spit|open|slash|puncture|carve|perforate|stick|cut|chop|strike|skewer|impale|dice|headbutt|fracture|peck|touch|kick|freeze) 
msc += $good:You (sock|thump|flatten|tail-slap|burn|claw|mangle|punch|drain|bludgeon|whack|shatter|hammer|sears) 
msc += $good:(hits|bites|slices|spits|opens|slashes|punctures|carves|perforates|sticks|freezes|poisons|engulfs|draws|tail-slaps) [^y]
msc += $good:(cuts|chops|strikes|skewers|attacks|hits|constricts|grabs|claws|burns|shocks|drains|sears|pecks|gores) [^y]
msc += $good:burns(.|!| [^you])
msc += $good:is covered in liquid flames
msc += $good:is engulfed in
msc += $good:A fierce wind blows from the fan
msc += $good:Your.*tramples the
msc += $good:The orb of electricity engulfs the
msc += $good:The (fireball|burst of hellfire|blast of hellfire|ghostly fireball|explosion|stinking cloud) engulfs [^your?]
msc += $good:The (fiery explosion|great blast of fire|explosion of dart fragments|explosion of spores) engulfs [^your?]
msc += $good:The (plume of ash|blast of magma) engulfs [^y]
msc += $good:is smitten
msc += $good:struck by your spines
msc += $good:There is a sudden explosion of sparks
msc += $good:is drained
msc += $good:You drain (its|her|his) (magic|power)
msc += $good:You drain the
msc += $good:Something (hits|bites) the
msc += $good:The.*is blasted
msc += $good:is burned by your radiant heat
msc += $good:The boulder beetle smashes into the
msc += $good:The golden flame engulfs
msc += $good:The eldritch tentacle writhes
msc ^= $good:The.*pierces through the
msc += $good:Space (warps horribly|bends) around 
msc += $good:(convulses|writhes in agony)
msc += $good:is splashed with acid

# Non-damage combat messages
msc ^= $positive:You feel as if something is helping you
msc += $positive:You are unaffected
msc += $positive:no longer looks unusually strong
msc += $positive:You block
msc += $positive:flinches away
msc += $positive:The.*is (repelled|deflected)
msc ^= $positive:You are no longer (glowing|entranced)
msc += $positive:The web tears apart
msc += $positive:Your.*is no longer paralysed.
msc += $positive:Your.*seems less confused
msc += $positive:Your magical contamination has.*faded
msc += $positive:more experienced
msc += $positive:That potion was really gluggy
msc += $positive:You resist
msc += $positive:You (partially|easily) resist
msc += $positive:Your skin crawls
msc += $positive:You draw out your weapon's spirit
msc += $positive:You catch the 
msc += $positive:fails to defend (itself|herself|himself)
msc += $positive:falters for a moment
msc += $positive:You feel invigorated
msc += $positive:You feel healthy
msc += $positive:You escape
msc += $positive:glows a violent red
msc += $positive:You emit a cloud
msc += $positive:(confused|looks drowsy)
msc += $positive:is caught in a (web|net)
msc += $positive:struggles to get unstuck from the (web|net)
msc += $positive:You feel yourself speed up
msc += $positive:loses its grip on you
msc += $positive:The sentinel's mark upon you fades away
msc ^= $positive:The terrible wounds on your body vanish
msc += $positive:The.*is no longer moving quickly
msc += $positive:The lost soul (fades away|flickers out)
msc += $positive:You turn into a creature of crystalline ice
msc ^= $positive:The.*dark mirror aura disappears
msc += $positive:is no longer berserk
msc += $positive:You wake up
msc += $positive:The grasping roots settle back into the ground
msc += $positive:The forest abruptly stops moving
msc += $positive:You feel more buoyant
msc += $positive:You fly up into the air
msc += $positive:You gasp with relief as air once again reaches your lungs
msc += $positive:A film of ice covers your body
msc += $positive:Your.*has recharged
msc += $positive:you pull free of the water engulfing you
msc += $positive:You feel a surge of unholy energy
msc += $positive:your?.*stops? burning
msc += $positive:The.*begins to rapidly decay
msc += $positive:Your possessions no longer seem quite so burdensome
msc += $positive:You feel in control
msc += $positive:You feel odd for a moment
msc += $positive:suddenly stops moving
msc += $positive:is poisoned
msc += $positive:looks even sicker
msc ^= $positive:You feel protected from missiles
msc += $positive:A film of ice covers your body
msc += $positive:is stunned!
msc += $positive:The.*seems to slow down
msc += $positive:is moving more slowly
msc += $positive:stops moving altogether
msc += $positive:Your skin hardens
msc += $positive:Eating
msc += $positive:the sound returns
msc += $positive:Your amulet of stasis gives you a mild electric shock
msc += $positive:You finish putting on
msc += $positive:You finish eating
msc += $positive:Your icy armour thickens
msc += $positive:A chill wind blows around you
msc += $positive:Your life force is being protected
msc += $positive:You become transparent for a moment
msc += $positive:is charmed
msc += $positive:You start singing a song of slaying
msc += $positive:You shred the net and break free
msc += $positive:The disc erupts in an explosion of electricity!
msc += $positive:Your skin feels harder
msc += $positive:and something leaps out
msc += $positive:The.*turns neutral
msc += $positive:You assume a fearsome visage
msc += $positive:The.*is burned terribly
msc += $positive:[^y].*is frozen
msc += $positive:You furiously retaliate
msc += $positive:The scroll dissolves into smoke
msc += $positive:Your.*reflects
msc += $positive:is no longer unusually agile
msc += $positive:the former slaves? thank you
msc += $positive:the hog turns into a human
msc += $positive:Your new body merges with your icy armour
msc += $positive:You feel the strange sensation of being on two planes at once
msc += $positive:You momentarily phase out as.*passes through you
msc += $positive:You feel less exhausted
msc += $positive:The.*melts
msc += $positive:The flame cauterises the wound
msc += $positive:You hack the.*last head off
msc += $positive:You carefully extract the manticore spikes from your body
msc += $positive:You feel a craving for the dungeon's cuisine
msc += $positive:You melt the 
msc += $positive:has finally been put to rest
msc += $positive:begins to bleed from.*wounds
msc += $positive:Your.*draws strength from
msc += $positive:You feel yourself moving faster
msc += $positive:looks sick
msc += $positive:Your attacks are magically infused
msc += $positive:Your feet morph into talons
msc += $positive:You grow a pair of large bovine horns
msc += $positive:You extend your transformation
msc += $positive:Your hands turn into razor-sharp scythe blades
msc += $positive:You conjure a globe of magical energy
msc += $positive:You imbue your battlesphere with additional charge
msc += $positive:Your battlesphere fires
msc += $positive:You finish butchering
msc += $positive:looks frightened
msc += $positive:The.*is outlined in light
msc += $positive:You feel quick
msc += $positive:You no longer feel sluggish
msc += $positive:You feel odd for a moment
msc += $positive:returns to your pack
msc += $positive:is devoured by a tear in reality
msc += $positive:You are covered in a thin layer of ice
msc += $positive:You feel (weak|clumsy|dopey) for a moment
msc += $positive:and things crawl out
msc += $positive:A crackling disc of dense vapour forms in the air
msc += $positive:icy armour evaporates
msc += $positive:Your.*looks invigorated
msc += $positive:repels the curse
msc += $positive:Yoink! You pull the item towards yourself
msc += $positive:but delicious nonetheless
msc += $positive:The disc of vapour around you crackles
msc ^= $positive:grand avatar fades into the ether
msc += $positive:turns into a zombie
msc += $positive:magic leaks into the air

msc += $verypositive:Your magma supply has returned
msc += $verypositive:(HP|Magic) restored
msc += $verypositive:You (kill|destroy|blow up)
msc += $verypositive:The.*dies
msc ^= $verypositive:Your.*glows (red|green|.*yellow|purple)
msc += $verypositive:You disentangle yourself
msc += $verypositive:Saving game... please wait
msc += $verypositive:You finish memorising
msc += $verypositive:Your wand.*glows for a moment
msc += $verypositive:You may choose your destination
msc += $verypositive:Your skill with magical items lets you calculate the power of this device
msc += $verypositive:You can move again
msc += $verypositive:The fungal colony is destroyed
msc += $verypositive:You are no longer firmly anchored in space
msc += $verypositive:You sensed
msc += $verypositive:Magic courses through your body
msc += $verypositive:You have disarmed the trap
msc += $verypositive:You are healed
msc += $verypositive:Pain shudders through your arm
msc += $verypositive:You slip out of the net
msc += $verypositive:You break free from the net
msc += $verypositive:Your.*wand glows for a moment
msc += $verypositive:It is a scroll of recharging
msc += $verypositive:That put a bit of spring back into your step
msc += $verypositive:You feel vaguely more buoyant than before
msc += $verypositive:You feel (much better|resistant|faster|mighty|protected|better|refreshed)
msc += $verypositive:You feel agile all of a sudden
msc += $verypositive:You feel the corruption within you wane
msc += $verypositive:You feel perceptive
msc += $verypositive:You feel a little better
msc += $verypositive:You feel studious about
msc += $verypositive:You feel telepathic
msc += $verypositive:You feel your magic capacity increase
msc += $verypositive:You feel the abyssal rune guiding you out of this place
msc += $verypositive:You feel a.*surge of power
msc += $verypositive:You feel fantastic
msc += $verypositive:There is an entrance to a (bailey|sewer) on this level 
msc += $verypositive:There is a flagged portal here
msc += $verypositive:There is an entrance to a volcano on this level
msc += $verypositive:You feel an oppressive heat about you
msc += $verypositive:Found.*altar
msc += $verypositive:Found a glowing drain
msc += $verypositive:Found a gate leading back out of here
msc += $verypositive:Found a hole to the Spider Nest
msc += $verypositive:Found a frozen archway
msc += $verypositive:Found an ice covered gate leading
msc += $verypositive:Found a dark tunnel
msc += $verypositive:Found a labyrinth entrance
msc += $verypositive:Found an exit through the horrors of the Abyss
msc += $verypositive:Found a gateway leading out of the Abyss
msc += $verypositive:Found a gateway leading deeper into the Abyss
msc += $verypositive:Found a gate leading out of Pandemonium
msc += $verypositive:Found a gate leading to another region
msc += $verypositive:Found a gateway
msc += $verypositive:Found a rocky tunnel leading out of this place
msc += $verypositive:Found a portal to a secret trove of treasure
msc += $verypositive:Found a magical portal
msc += $verypositive:Found.*staircase
msc += $verypositive:Found.*(shop|store|Emporium|Distillery|Boutique|Accessories|Antiques)

#msc += $awesome:
msc += $awesome:Your vision sharpens
msc += $awesome:Your.*is now the 
msc += $awesome:Your urge to shout disappears
msc ^= $awesome:scales grow over part of your body
msc ^= $awesome:Something appears at your feet
msc ^= $awesome:Something appears before you
msc ^= $awesome:Your urge to shout disappears
msc ^= $awesome:This is a scroll of acquirement
msc += $awesome:You pick up the.*rune
msc += $awesome:You now have.*rune
msc += $awesome:Your.*skill increases
msc += $awesome:You have reached level
msc += $awesome:Your experience leads to an increase in your attributes
msc += $awesome:You feel (agile|clever|stronger)
msc += $awesome:You feel your.*returning
msc += $awesome:There is a frozen archway here
msc += $awesome:There is a dark tunnel here
msc += $awesome:There is a portal to a secret trove of treasure here
msc += $awesome:3 runes! That's enough to enter the realm of Zot
msc += $awesome:The lock glows eerily
msc += $awesome:Heavy smoke blows from the lock
msc += $awesome:You have escaped!
msc += $awesome:rune into the lock
msc += $awesome:You feel aware of your surroundings

msc += $awesome:A searing pain shoots up your arm
msc += $awesome:Your hands tingle!
msc += $awesome:You feel a dreadful hunger

msc += $awesome:Your metabolism slows
msc += $awesome:You feel (more robust|robust|very robust)
msc += $awesome:You feel more energetic
msc += $awesome:You feel insulated


# You or an ally takes damage
msc += $negative:The ghost moth stares at you
msc += $negative:Your ice beast melts
msc += $negative:draws from the surrounding life force
msc += $negative:The boulder beetle smashes into you
msc += $negative:You feel very cold
msc += $negative:You are outlined in light
msc += $negative:briefly gains? a (red|green) sheen
msc += $negative:very briefly gains a yellow sheen
msc += $negative:You feel.*more hungry
msc += $negative:(The|Something|ghost|).*resists
msc += $negative:struggles to resist
msc += $negative:(bites|hits|shocks|tentacle-slaps|claws|smites|stings|freezes|slaps|pecks|gores) your?
msc += $negative:(tail-slaps|tramples|burns|poisons|gores|pecks|touches|kicks|trunk-slaps|skewers|drowns) your?
# Thanks killer klowns
msc += $negative:(flogs|trip-wires|defenestrates) your?
msc += $negative:Your.*burned by acid
msc += $negative:Your.*appears confused
msc += $negative:Your?.*is struck by the.*spines
msc += $negative:Your pack is full
msc += $negative:You can't pick everything up
msc += $negative:Could not pick up an item
msc += $negative:You can't carry that many items
msc += $negative:(prevent|prevents) you from hitting
msc += $negative:Your spectral weapon shares its damage
msc += $negative:The.*begins to radiate
msc += $negative:The.*toxic radiance grows
msc += $negative:Your.*loses its grip
msc += $negative:The water swirls and strikes you
msc += $negative:Your.*is knocked back
msc += $negative:The orb of energy explodes
msc += $negative:The shock serpent's electric aura discharges violently
msc += $negative:The lightning shocks
msc += $negative:The tentacled starspawn engulfs you
msc += $negative:Your life force is offered up
msc ^= $negative:The (fireball|.*hellfire|ghostly fireball|explosion|blast of flame|great blast of fire|fiery explosion) engulfs your?
msc ^= $negative:The (explosion of dart fragments|explosion of spores|stinking cloud) engulfs your?
msc ^= $negative:The (blast of magma|plume of ash) engulfs your?
msc += $negative:Pain shoots through your body
msc += $negative:Your.*is flash-frozen
msc += $negative:You writhe in agony
msc += $negative:you feel sick
msc += $negative:Something smites you
msc += $negative:The air twists around and.*strikes you
msc += $negative:You are hit by a branch
msc += $negative:phases out as you
msc += $negative:momentarily phases out
msc += $negative:You are caught in an explosion of flying shrapnel
msc += $negative:You are hit by flying rocks
msc ^= $negative:strikes at you from the darkness
msc += $negative:Your?.*burned terribly
msc += $negative:You swing wildly
msc += $negative:covered in liquid flames
msc += $negative:Moving in this stuff is going to be slow
msc += $negative:You are blasted with ice
msc += $negative:Your.*seems to slow down
msc += $negative:You are electrocuted
msc += $negative:and unravels at your touch
msc += $negative:Your unstable footing causes you to fumble your attack
msc += $negative:Your.* is engulfed
msc += $negative:You are being weighed down by all of your possessions
msc += $negative:You are struck by the.*spines
msc += $negative:The water rises up and strikes you
msc += $negative:The torrent of lightning arcs to you
msc += $negative:A root smacks your
msc += $negative:The eye of draining stares at you
msc += $negative:The orb of electricity engulfs you
msc += $negative:The barbed spikes dig painfully into your body as you move
msc += $negative:You are engulfed in (flames|freezing|negative energy|ghostly flame|roaring flames)
msc += $negative:You are engulfed in (poison gas|noxious fumes|a cloud of scalding steam|freezing vapours)
msc += $negative:A root smacks you from below
msc += $negative:flinch away in fear
msc += $negative:Ka-crash
msc += $negative:The silence causes your song to end
msc += $negative:You are frozen
msc ^= $negative:draws life force from you
msc += $negative:You have a terrible headache
msc += $negative:Your damage is reflected back at you
msc += $negative:Your body is twisted painfully
msc += $negative:Your scythe-like blades burn
msc += $negative:Your.*is splashed with acid
msc += $negative:You feel (slightly|somewhat) less full
msc += $negative:The light of Elyvilon fails to reach
msc += $negative:The light of Elyvilon almost touches upon
msc += $negative:is completely unfazed by your meager offer of peace
msc += $negative:struggles to escape constriction
msc += $negative:deflects the
msc += $negative:The freed slave is burned by acid
msc += $negative:You could not reach far enough
msc += $negative:Something.*your
msc += $negative:appears unharmed
msc += $negative:snaps closed at you
msc += $negative:Your piety has decreased
msc += $negative:headbutts you!
msc += $negative:The blink frog basks in the distortional energy
msc += $negative:[^r]pulls free of the water
msc += $negative:engulfs your
msc ^= $negative:You are more confused
msc ^= $negative:You are confused
msc += $negative:You are blasted with magical energy

msc ^= $takesaction:points at you and mumbles some strange words
msc += $takesaction:(shoots|throws|fires) [^n]
msc += $takesaction:You (shoot|throw|fire)
msc += $takesaction:The.*(gestures|conjures|fires|radiates|plays a)
msc ^= $takesaction:mumbles some strange (words|prayers)
msc ^= $takesaction:spriggan berserker (utters an invocation to|prays to|invokes) Trog
msc ^= $takesaction:Your.*calls down the wrath of the Shining One
msc += $takesaction:casts a spell.*floats close
msc ^= $takesaction:launches metal splinters at you
msc ^= $takesaction:begins absorbing vital energies
msc ^= $takesaction:calls forth a grand avatar

msc += $godaction:(Elyvilon|Igni Ipthes|Elyvilon|Ashenzari|Cheibriados|Dithmenos|Fedhas|Okawaru)
msc += $godaction:(Kikubaaqudgha|Makhleb|Nemelex|Sif Muna|Trog|Vehumet|Xom|Yredelemnul|Zin[^g]|The Shining One)
msc ^= $godaction:shimmer and break into pieces
msc ^= $godaction:barely shimmers and breaks into pieces
msc ^= $godaction:Your divine halo returns
msc += $godaction:due to Igni's heat
msc += $godaction:disappears without a glow
msc += $godaction:is slowly consumed by flames
msc += $godaction:is consumed in a column of flame
msc += $godaction:The toadstool can now pick up its mycelia and move

# Interface Messages
#msc += $interface:
msc += $interface:Welcome
msc += $interface:comes into view
msc += $interface:That item cannot be evoked
msc += $interface:Please enjoy your stay
msc += $interface:Showing terrain only
msc += $interface:Returning to normal view
msc += $interface:Done exploring

# Muted - unnecessary 
#msc += mute:
msc += mute:Cast which spell\? \(
msc += mute:Confirm with
msc += mute:Casting\:
msc += mute:Aiming\:
msc += mute:Aim\:
msc += mute:You can\'t see any susceptible monsters within range
msc += mute:Press\: \? \- help, Shift\-Dir \- straight line, f \- you
msc += mute:for a list of commands and other information
msc += mute:Firing \(i \- inventory\. \(\,\) \- cycle\)\:

msc += mute:is lightly (wounded|damaged)
msc += mute:is moderately (wounded|damaged)
msc += mute:is heavily (wounded|damaged)
msc += mute:is severely (wounded|damaged)
msc += mute:is almost (dead|destroyed)

msc += mute:Was it this warm in here before
msc += mute:The flames dance
msc += mute:Your shadow attacks
msc += mute:Marking area around
msc += mute:Placed new exclusion
msc += mute:Reduced exclusion size to a single square
msc += mute:Removed exclusion
msc += mute:You can access your shopping list by pressing
msc += mute:for starvation awaits
msc += mute:As you enter the labyrinth
msc += mute:previously moving walls settle noisily into place
msc += mute:You offer a prayer to Elyvilon
msc += mute:The plant looks sick


##################
# Item colouring #
##################

# Set Alias
menu := menu_colour
# Clear defaults 
menu =

# Variables 
$tele := lightgreen
$haste := cyan
$enchant := cyan
$buff := lightcyan
$heal := yellow
$good := yellow
$rod := lightmagenta
$supergood := lightmagenta

# General 
menu += darkgrey:(melded)
menu += darkgrey:.*useless_item.*
menu += blue:.*evil_item.*

# Equipment 
menu += brown:shield of the gong
menu += red:.*artefact.* cursed
menu += lightred: cursed
menu += inventory:green:.*equipped.*
menu += white:.*artefact.*

menu += lightblue:^unidentified .*(potion|scroll|wand|jewellery).*
menu += lightblue:^unidentified .*weapon.*(runed|glowing)
menu += lightblue:^unidentified .*armour.*(runed|glowing|embroidered)
menu += lightblue:^unidentified .*armour.*(shiny|dyed)

# Wands
menu += $heal:wand of heal
menu += $haste:wand of hasting
menu += $tele:wand of teleportation
menu += darkgrey:wand of (magic dart|flame|frost)
menu += white:wand of (fire|cold)

# Food
menu += $heal:royal jell
menu += darkgrey:.*inedible.*
menu += red:.*evil_eating.*
menu += white:.*preferred.*
menu += lightred:.*rot-inducing.*
menu += magenta:.*mutagenic.*
menu += lightgreen:.*poisonous.*
menu += brown:.*contaminated.*

# Scrolls
menu += $good:scrolls? of (fog|fear)
menu += lightcyan:blinking
menu += white:holy word
menu += red:scrolls? of torment
menu += $enchant:recharging
menu += $enchant:vorpalise weapon
menu += $enchant:enchant (weapon|armour)
menu += $tele:scrolls? of teleportation
menu += $supergood:acquirement
menu += $supergood:brand weapon

# Potions
menu += $supergood:magic mapping
menu += yellow:potions? of (curing|heal wounds|magic)
menu += $haste:potions? of speed
menu += $buff:potions? of (might|agility|brilliance|resistance)
menu += lightred:potions? of berserk
menu += $supergood:potions? of (experience|cure mutation|gain|beneficial)
menu += magenta:potions? of mutation

# Misc items
menu += $rod:tome of Destruction
menu += lightcyan:disc of storms
menu += lightcyan:crystal ball of energy
menu += $supergood:.*misc.*rune( of Zot)?
menu += $supergood:.*orb.*Zot

# Rods and staves
menu += $rod:rod of
menu += $rod:lightning rod
menu += $rod:^unidentified.*rod
menu += magenta:[^r]staff of
menu += magenta:^unidentified.* staff

# Deck colouring
menu += lightmagenta:deck of wonders
menu += yellow:deck of escape
menu += cyan:deck of summoning
menu += lightred:deck of destruction
menu += lightblue:deck of dungeon
menu += lightgrey:deck of cards
menu += white:deck of

# Equipped ordinary item
menu += white:.*equipped.*

####################
# Autoinscriptions #
####################

# Set Alias
ai := autoinscribe

# Overwrite annoying inscriptions with your own
# Inscribe vampiric weapons if you are not a vampire
: if you.race() ~= "Vampire" then
	ai += vampiric:!w
: end
ai += distortion:!w
ai += (bad|dangerous)_item.*potion:!q
ai += potion of beserk rage:!q
ai += (bad|dangerous)_item.*scroll:!r
ai += rod of:!a
ai += [^r]staff of:!a
ai += [Mm]anual of:!d
ai += dispersal:!f
ai += throwing net:!f
ai += tome of destruction:!d

: if you.god() == "Fedhas" then
	ai += fruit:!e
: end

autoinscribe_cursed = false
show_god_gift = unident

##################
# Character Dump #
##################

dump_item_origins = all
dump_item_origin_price = 100
dump_message_count = 100
#dump_order = header,hiscore,stats,misc,mutations,skills,spells,overview,inventory
#dump_order += screenshot,monlist,messages,action_counts,vaults,notes,kills
dump_order += vaults, turns_by_place, kills_by_place
dump_book_spells = false
ood_interesting = 6
note_hp_percent = 25
note_all_skill_levels = true
note_xom_effects = true
note_items += of Zot,rod,acquirement
note_messages += Your scales start
note_messages += protects you from harm
note_messages += You fall through a shaft
note_messages += [bB]anish.*Abyss
note_monsters += orb of fire,silver star,pearl dragon,ancient lich